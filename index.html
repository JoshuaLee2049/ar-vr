<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Line Style: å‹èˆˆæ™‚ç©ºç†±ç·š</title>
<style>
  /* --- åŸºç¤è¨­å®š --- */
  body { font-family: 'PingFang TC', 'Heiti TC', 'Microsoft JhengHei', sans-serif; background-color: #222; margin: 0; display: flex; justify-content: center; height: 100vh; overflow: hidden; }
  
  /* --- æ‰‹æ©Ÿå¤–æ¡† --- */
  .phone-frame { 
    width: 375px; height: 100%; max-height: 812px; 
    background-color: #7280a8; /* LINE é è¨­åº•è‰² */
    position: relative; 
    display: flex; flex-direction: column; 
    overflow: hidden;
    /* èƒŒæ™¯åœ–ç‰‡ï¼šæ‡·èˆŠè»Šç«™ */
    background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1474487548417-781cb71495f3?auto=format&fit=crop&q=80&w=800');
    background-size: cover;
    background-position: center;
  }
  
  /* åœ¨å¤§è¢å¹•æ™‚åŠ å€‹é‚Šæ¡†åƒæ‰‹æ©Ÿï¼Œæ‰‹æ©Ÿä¸Šå‰‡å…¨è¢å¹• */
  @media (min-width: 500px) {
    .phone-frame { height: 750px; border-radius: 40px; border: 12px solid #333; margin-top: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
  }

  /* --- Header (å°èˆªæ¬„) --- */
  .header { 
    background: rgba(43, 53, 69, 0.9); /* æ·±è‰²åŠé€æ˜ */
    color: #fff; padding: 15px 20px; 
    display: flex; align-items: center; gap: 15px;
    font-size: 1.1em; font-weight: bold;
    backdrop-filter: blur(5px);
    z-index: 10;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  .back-btn { font-size: 1.2em; cursor: pointer; }
  .chat-title { flex: 1; }
  .header-icons { font-size: 1.2em; letter-spacing: 15px; }

  /* --- èŠå¤©å€åŸŸ --- */
  .chat-area { 
    flex: 1; padding: 20px 10px; 
    overflow-y: auto; 
    display: flex; flex-direction: column; gap: 20px;
    scroll-behavior: smooth;
  }

  /* --- è¨Šæ¯ç¾¤çµ„ --- */
  .msg-row { display: flex; align-items: flex-start; margin-bottom: 10px; }
  .msg-row.me { justify-content: flex-end; }
  
  /* é ­åƒ */
  .avatar { 
    width: 40px; height: 40px; border-radius: 50%; 
    background-size: cover; background-position: center;
    margin-right: 10px; border: 1px solid rgba(255,255,255,0.3);
    flex-shrink: 0;
  }
  .msg-content { max-width: 70%; position: relative; }
  .sender-name { font-size: 0.75em; color: #fff; margin-bottom: 4px; text-shadow: 0 1px 2px rgba(0,0,0,0.8); }

  /* æ°£æ³¡æ¨£å¼ */
  .bubble {
    padding: 10px 14px;
    border-radius: 18px;
    font-size: 0.95em;
    line-height: 1.4;
    position: relative;
    word-wrap: break-word;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }

  /* å°æ–¹ (å·¦å´) */
  .msg-row.other .bubble { background: #fff; color: #333; border-top-left-radius: 2px; }
  .msg-row.other .bubble::before {
    content: ""; position: absolute; left: -6px; top: 0;
    border-top: 0px solid transparent; border-right: 10px solid #fff; border-bottom: 10px solid transparent;
  }

  /* æˆ‘ (å³å´) */
  .msg-row.me .bubble { background: #98e165; color: #000; border-top-right-radius: 2px; }
  .msg-row.me .bubble::before {
    content: ""; position: absolute; right: -6px; top: 0;
    border-top: 0px solid transparent; border-left: 10px solid #98e165; border-bottom: 10px solid transparent;
  }

  /* æ™‚é–“èˆ‡å·²è®€ */
  .meta-info {
    font-size: 0.7em; color: rgba(255,255,255,0.8);
    display: flex; flex-direction: column; justify-content: flex-end;
    margin: 0 6px 5px 6px; text-align: right; min-width: 30px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.8);
  }
  .msg-row.me .meta-info { text-align: left; } /* æˆ‘çš„è¨Šæ¯æ™‚é–“åœ¨å·¦é‚Š */
  
  /* æ’ç‰ˆä¿®æ­£ï¼šæŠŠæ™‚é–“æ”¾åˆ°æ°£æ³¡æ—é‚Š */
  .msg-row.other { flex-direction: row; }
  .msg-row.me { flex-direction: row-reverse; }

  /* --- åº•éƒ¨è¼¸å…¥å€ --- */
  .input-bar {
    background: #fff; padding: 10px;
    display: flex; align-items: center; gap: 10px;
    border-top: 1px solid #ddd;
  }
  .plus-icon { color: #aaa; font-size: 1.5em; cursor: pointer; }
  .text-input { 
    flex: 1; background: #f0f0f5; border: none; 
    padding: 10px 15px; border-radius: 20px; 
    outline: none; font-size: 16px; 
  }
  .send-btn { 
    color: #2d68c4; font-weight: bold; cursor: pointer; 
    border: none; background: none; padding: 5px;
  }
  .send-btn:disabled { color: #ccc; }

</style>
</head>
<body>

<div class="phone-frame">
  <div class="header">
    <div class="back-btn">â®</div>
    <div class="chat-title">å‹èˆˆè»Šç«™ ç«™é•· (é¬¼é­‚?)</div>
    <div class="header-icons">ğŸ“ â˜°</div>
  </div>

  <div class="chat-area" id="chatArea">
    
    <div class="msg-row other">
      <div class="avatar" style="background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=StationMaster');"></div>
      <div class="msg-content">
        <div class="sender-name">ç«™é•·</div>
        <div class="bubble">æœ«ç­è»Šå·²ç¶“é–‹èµ°äº†...å¹´è¼•äººï¼Œä½ æ€éº¼é‚„åœ¨æœˆå°ä¸Šé€—ç•™ï¼ŸğŸš‚</div>
      </div>
      <div class="meta-info">
        <span>ä¸‹åˆ 11:58</span>
      </div>
    </div>

    <div style="text-align: center; color: rgba(255,255,255,0.7); font-size: 0.75em; margin: 10px 0; background: rgba(0,0,0,0.2); display: inline-block; padding: 2px 10px; border-radius: 10px; align-self: center;">
      ä»Šå¤©
    </div>

  </div>

  <div class="input-bar">
    <div class="plus-icon">ï¼‹</div>
    <div class="plus-icon">ğŸ“·</div>
    <input type="text" class="text-input" id="messageInput" placeholder="è¼¸å…¥è¨Šæ¯...">
    <button class="send-btn" id="sendBtn">å‚³é€</button>
  </div>
</div>

<script>
  const chatArea = document.getElementById('chatArea');
  const messageInput = document.getElementById('messageInput');
  const sendBtn = document.getElementById('sendBtn');

  // å–å¾—ç¾åœ¨æ™‚é–“ (æ ¼å¼ HH:mm)
  function getCurrentTime() {
    const now = new Date();
    let hours = now.getHours();
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const period = hours >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ';
    if (hours > 12) hours -= 12;
    if (hours === 0) hours = 12;
    return `${period} ${hours}:${minutes}`;
  }

  // å‚³é€è¨Šæ¯åŠŸèƒ½
  function sendMessage() {
    const text = messageInput.value.trim();
    if (!text) return;

    // 1. æ–°å¢æˆ‘çš„è¨Šæ¯
    addMessage(text, 'me');
    messageInput.value = '';

    // 2. æ¨¡æ“¬å°æ–¹å›è¦†
    setTimeout(() => {
      // æ¨¡æ“¬ã€Œå·²è®€ã€ (åœ¨çœŸå¯¦ App ä¸­éœ€è¦æ›´æ–°ä¸Šä¸€å‰‡è¨Šæ¯çš„ç‹€æ…‹ï¼Œé€™è£¡ç°¡åŒ–)
      const readStatus = document.createElement('span');
      readStatus.textContent = 'å·²è®€';
      readStatus.style.display = 'block';
      // é€™è£¡åªæ˜¯ç¤ºç¯„ï¼Œå¯¦éš›ä¸Šè¦æŠ“åˆ°æœ€å¾Œä¸€å‰‡ 'me' çš„ meta-info
      
      simulateReply();
    }, 1000);
  }

  // æ–°å¢è¨Šæ¯åˆ° DOM
  function addMessage(text, type) {
    const row = document.createElement('div');
    row.className = `msg-row ${type}`;
    
    const time = getCurrentTime();

    // æ ¹æ“šæ˜¯ã€Œæˆ‘ã€é‚„æ˜¯ã€Œå°æ–¹ã€çµ„è£ HTML
    if (type === 'me') {
      row.innerHTML = `
        <div class="meta-info">
          <span style="color:#b3e283; font-size:0.9em;">å·²è®€</span>
          <span>${time}</span>
        </div>
        <div class="msg-content">
          <div class="bubble">${text}</div>
        </div>
      `;
    } else {
      row.innerHTML = `
        <div class="avatar" style="background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=StationMaster');"></div>
        <div class="msg-content">
          <div class="sender-name">ç«™é•·</div>
          <div class="bubble">${text}</div>
        </div>
        <div class="meta-info">
          <span>${time}</span>
        </div>
      `;
    }

    chatArea.appendChild(row);
    chatArea.scrollTop = chatArea.scrollHeight;
  }

  // æ¨¡æ“¬ NPC é‚è¼¯
  function simulateReply() {
    const replies = [
      "é€™å¼µç¥¨...æ˜¯æ˜­å’Œå¹´ä»½çš„ï¼Ÿä½ å¾å“ªè£¡æ‹¿åˆ°çš„ï¼Ÿ",
      "è½å¾—åˆ°å—ï¼Ÿé æ–¹å¥½åƒæœ‰æ±½ç¬›è²...",
      "åˆ¥å¾€éš§é“è£¡é¢èµ°ï¼Œé‚£è£¡æ²’æœ‰å…‰ã€‚",
      "è«‹å‡ºç¤ºæ‚¨çš„è»Šç¥¨ï¼Œé€™è£¡ä¸æ¥å—æ‚ éŠå¡å–”ã€‚"
    ];
    const randomReply = replies[Math.floor(Math.random() * replies.length)];
    addMessage(randomReply, 'other');
  }

  // äº‹ä»¶ç›£è½
  sendBtn.addEventListener('click', sendMessage);
  messageInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
  });

</script>

</body>
</html>
